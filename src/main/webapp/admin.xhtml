<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title>Administration</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous"></link>
    </h:head>
    
    <h:body style="padding-left: 50px; padding-top: 60px;">
    	<ui:include src="/navbar.xhtml"/>
    	<h2>Administrateur</h2>
        <h:dataTable value="#{evenementController.doListEvent()}" var="event"
    			styleClass="order-table"
    			headerClass="order-table-header"
    			rowClasses="order-table-odd-row,order-table-even-row"
    		>
    		<h:column>
    			<h:form>
    				<h:commandButton value="X" action="#{evenementController.deleteEvent(event)}"></h:commandButton>
    			</h:form>
    		</h:column>
    		<h:column>
    			<h:outputLabel value="#{event.nom}"></h:outputLabel>
    		</h:column>		
    		<h:column>
    			<h:form>
    				<h:commandButton value="Plus de détails" action="#{evenementController.goDetailEvent(event)}"></h:commandButton>
    			</h:form>
    		</h:column>
    	</h:dataTable>
  
  		<h:form enctype="multipart/form-data">
			<h4>Ajouter un évènement</h4>
				<h:panelGrid columns="2">	
					<h:outputLabel value="Nom :"></h:outputLabel>
					<h:inputText value="#{evenementController.nom}"></h:inputText>
					
					<h:outputLabel value="Lieu :"></h:outputLabel>
					<h:inputText value="#{evenementController.lieu}"></h:inputText>
					
					<h:outputLabel value="Description :"></h:outputLabel>
					<h:inputText value="#{evenementController.description}"></h:inputText>
					
					<h:outputLabel value="Date de début :"></h:outputLabel>
					<h:inputText value="#{evenementController.dateDeb}"></h:inputText>
					
					<h:outputLabel value="Date de fin :"></h:outputLabel>
					<h:inputText value="#{evenementController.dateFin}"></h:inputText>
					<h:outputLabel value="Image de couverture :"></h:outputLabel>
					<h:inputFile value = "#{evenementController.file}"></h:inputFile>
					<h:commandButton class="boutton" value="Créer un événement" action="#{evenementController.createEvent()}"></h:commandButton>
			</h:panelGrid>
		</h:form>

    </h:body>
</html>